{% set map = salt['grains.filter_by']({
    'Ubuntu': {
        'pkgs': ['squid'],
        'service': 'squid',
        'conf_dir': '/etc/squid',
        'conf_file': 'squid.conf',
        'cache': '/var/spool/squid',
    },
    'Debian': {
        'pkgs': ['squid3'],
        'service': 'squid3',
        'conf_dir': '/etc/squid3',
        'conf_file': 'squid.conf',
        'cache': '/var/spool/squid',
    },
    'FreeBSD': {
        'pkgs': ['squid'],
        'service': 'squid',
        'conf_dir': '/usr/local/etc/squid',
        'conf_file': 'squid.conf',
        'cache': '/var/squid/cache',
     },
    'openSUSE Leap': {
        'pkgs': ['squid'],
        'service': 'squid',
        'conf_dir': '/usr/local/etc/squid',
        'conf_file': 'squid.conf',
        'cache': '/var/squid/cache',
     },
}, grain='os', merge=salt['pillar.get']('squid:lookup')) %}
